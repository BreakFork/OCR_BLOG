{% extends 'base.html.twig' %}

{% block body %}
    <div class="container" xmlns="http://www.w3.org/1999/html">
        <div class="row d-flex justify-content-center  align-content-start">

                <article class="card border-bottom-0 w-100">

                    <header class="card-header text-center">
                        <h1 class="card-title">Tableau de bord :</h1>
                    </header>

                    <br class="card-body">

                        <div class="d-flex flex-column">
                            <div class="{% if Message_A %}d-flex mb-5 px-2 py-2 text-white bg-dark{% endif %}
                                        {% if Message_B %}d-flex mb-5 px-2 py-2 bg-light{% endif %}">

                                <i class="{% if Message_A %}fas fa-exclamation-circle fa-lg text-danger{% endif %}
                                          {% if Message_B %}fas fa-coffee fa-lg{% endif %}"></i>&nbsp;&nbsp;&nbsp;

                                <span class="font-weight-bold">{{ Message_A }}{{ Message_B }}...</span>
                            </div>
                        </div>
                    <ul>
                        {% for key in postTitle|keys %}
                            <li>{{ key }}</li>
                        {% endfor %}
                    </ul>
                        {% for comment in commentsList %}

                            <div class="shadow mx-auto my-2 w-100">

                                <input type="hidden" name="commentId" value="{% for post in postList %}{{ post.postTitle }}{% endfor %}" />

                                <div class="d-flex justify-content-between py-1 px-2 text-white border-right border-left border-darkest bg-dark">
                                    <span class="font-weight-bold">Article :&nbsp;</span>
                                </div>


                                <div class="media border-right border-left border-darkest bg-light">
                                    <div class="media-body text-justify">
                                        <div class="d-flex justify-content-between card-meta">
                                            <div>
                                                <span class="text-muted font-weight-bold">Auteur :</span>&nbsp;{{ comment.commentAuthorName }}
                                            </div>
                                            <div>
                                                <span class="text-muted font-italic font-weight-bold">Post√© le :&nbsp;</span>&nbsp;{{ comment.commentLastUpdateTimestamp|date("d/m/Y") }}
                                            </div>
                                        </div>
                                        <p class="mt-3 mb-2">{{ comment.commentContent }}</p>
                                    </div>
                                </div>

                                <div class="d-flex justify-content-end py-2 text-white border-right border-left border-darkest bg-dark">
                                    <div class="d-flex">
                                        <a class="nav-link text-uppercase px-3 font-weight-bolder text-warning border-right border-white" href="/admin/publishComment/{{ comment.commentId }}">Publier</a>
                                        <a class="nav-link text-uppercase px-3 font-weight-bolder text-warning" href="/admin/deleteComment/{{ comment.commentId }}">Effacer</a>
                                    </div>
                                </div>

                            </div>

                        {% endfor %}

                </article><!-- /.card -->

        </div>
    </div>
{% endblock %}
